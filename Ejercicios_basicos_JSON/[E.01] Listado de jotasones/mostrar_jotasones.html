<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>E.01 - Mostrar Jotasones</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h2>Listado de Jotasones</h2>

    <input type="button" id="btnMostrar" value="Mostrar jotasones" />
    <div id="listado"></div>

    <script src="jotasones.js"></script>
    <script>
    const clave = "jotasones";

    function cargarDesdeStorage() {
        return JSON.parse(localStorage.getItem(clave));
    }

    function guardarDatosIniciales() {
        localStorage.setItem(clave, JSON.stringify(jotasones));
    }

    function mostrarTabla(arr) {
        const div = document.getElementById("listado");
        let html = "<table><tr><th>ID</th><th>Valor 1</th><th>Valor 2</th></tr>";
        arr.forEach(j => {
            html += `<tr>
                        <td>
                            ${j.id}
                        </td>
                        <td>
                            ${j.valor_1}
                        </td>
                        <td>
                            ${j.valor_2}
                        </td>
                    </tr>`;
        });
        html += "</table>";
        div.innerHTML = html;
    }

    if (!localStorage.getItem(clave)) {
        guardarDatosIniciales();
        alert("Se guardaron los jotasones en localStorage.");
    } else {
        alert("Los jotasones ya estaban guardados en localStorage.");
    }

    console.log("Jotasones actuales:", cargarDesdeStorage());

    document.getElementById("btnMostrar").onclick = function () {
        mostrarTabla(cargarDesdeStorage());
    };

    </script>

</body>
</html>
